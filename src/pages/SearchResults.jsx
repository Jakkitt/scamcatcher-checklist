import React, { useMemo, useState } from 'react'
import { useSearchParams } from 'react-router-dom'
import { BANKS } from '../constants/banks'
const mock=[{id:1,name:'สมชาย ใจดี',bank:'ธนาคารไทยพาณิชย์',account:'123-4-56789-0'},{id:2,name:'มิจฉาชีพ A',bank:'ธนาคารกสิกรไทย',account:'111-2-33333-4'}]
export default function SearchResults(){ const [params]=useSearchParams(); const [bank,setBank]=useState(params.get('bank')||''); const name=params.get('name')||''; const account=params.get('account')||''; const filtered=useMemo(()=>mock.filter(x=>(!name||x.name.includes(name))&&(!account||x.account.includes(account))&&(!bank||x.bank===bank)),[name,account,bank]); return(<main className='container py-12'><h1 className='text-2xl font-bold mb-6'>ผลการค้นหา</h1><div className='bg-white border rounded-xl p-4 mb-6 flex gap-3 items-center'><label className='text-sm text-gray-600'>ธนาคาร</label><select className='w-64' value={bank} onChange={e=>setBank(e.target.value)}>{BANKS.map(b=><option key={b.value} value={b.value}>{b.label}</option>)}</select></div><div className='grid gap-4'>{filtered.length===0&&<div className='text-gray-500'>ไม่พบข้อมูล</div>}{filtered.map(item=>(<div key={item.id} className='bg-white border rounded-xl p-4 shadow-soft flex items-center justify-between'><div><div className='font-semibold'>{item.name}</div><div className='text-sm text-gray-600'>{item.bank} • {item.account}</div></div><button className='px-3 py-1.5 rounded-lg border'>ดูรายละเอียด</button></div>))}</div></main>) }
