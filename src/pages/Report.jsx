import React from 'react'
import { useForm } from 'react-hook-form'
import { z } from 'zod'
import { zodResolver } from '@hookform/resolvers/zod'
import { BANKS } from '../constants/banks'
const schema=z.object({ name:z.string().min(1,'กรุณาระบุชื่อผู้กระทำผิด'), bank:z.string().min(1,'กรุณาเลือกธนาคาร'), account:z.string().min(6,'เลขบัญชีสั้นเกินไป'), amount:z.coerce.number().min(1,'กรุณาระบุจำนวนเงิน'), date:z.string().min(1,'กรุณาระบุวันที่โอน'), category:z.string().min(1,'กรุณาระบุหมวดหมู่') })
export default function Report(){ const { register, handleSubmit, formState:{ errors, isSubmitting }, reset }=useForm({ resolver:zodResolver(schema) }); const onSubmit=async(d)=>{ await new Promise(r=>setTimeout(r,800)); alert('ส่งรายงานสำเร็จ'); reset() }; return(<main className='container py-12'><h1 className='text-2xl font-bold text-center mb-6'>รายงานมิจฉาชีพ</h1><form onSubmit={handleSubmit(onSubmit)} className='max-w-3xl mx-auto grid md:grid-cols-2 gap-6 border rounded-xl p-6 bg-white shadow-soft'><div><label className='block text-sm mb-1'>ชื่อ–นามสกุลผู้กระทำผิด *</label><input {...register('name')} placeholder='ระบุชื่อ–นามสกุล'/>{errors.name&&<p className='text-red-500 text-sm'>{errors.name.message}</p>}</div><div><label className='block text-sm mb-1'>หมวดหมู่ *</label><input {...register('category')} placeholder='เช่น การลงทุน'/>{errors.category&&<p className='text-red-500 text-sm'>{errors.category.message}</p>}</div><div><label className='block text-sm mb-1'>ธนาคาร *</label><select {...register('bank')}>{BANKS.map(b=><option key={b.value} value={b.value}>{b.label}</option>)}</select>{errors.bank&&<p className='text-red-500 text-sm'>{errors.bank.message}</p>}</div><div><label className='block text-sm mb-1'>เลขบัญชี *</label><input {...register('account')} placeholder='เช่น 123-4-56789-0'/>{errors.account&&<p className='text-red-500 text-sm'>{errors.account.message}</p>}</div><div><label className='block text-sm mb-1'>ยอดโอน (บาท) *</label><input type='number' {...register('amount')} placeholder='ระบุจำนวนเงิน'/>{errors.amount&&<p className='text-red-500 text-sm'>{errors.amount.message}</p>}</div><div><label className='block text-sm mb-1'>วันที่โอนเงิน *</label><input type='date' {...register('date')}/>{errors.date&&<p className='text-red-500 text-sm'>{errors.date.message}</p>}</div><div className='md:col-span-2'><label className='block text-sm mb-1'>ช่องทาง</label><input placeholder='เช่น Facebook/Line/IG' {...register('channel')}/></div><div className='md:col-span-2'><label className='block text-sm mb-1'>รายละเอียดเพิ่มเติม</label><textarea placeholder='อธิบายเหตุการณ์โดยย่อ' {...register('desc')}/></div><div className='md:col-span-2'><button disabled={isSubmitting} type='submit' className='w-full px-4 py-2 rounded-xl bg-black text-white disabled:opacity-60'>{isSubmitting?'กำลังส่ง…':'ส่งรายงาน'}</button></div></form></main>) }
