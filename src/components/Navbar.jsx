import React, { useEffect, useState } from 'react'
import { Link, NavLink, useNavigate } from 'react-router-dom'
export default function Navbar(){ const [isAuth,setIsAuth]=useState(false); const navigate=useNavigate(); useEffect(()=>{ const check=()=>setIsAuth(!!localStorage.getItem('user')); check(); window.addEventListener('storage',check); return()=>window.removeEventListener('storage',check)},[]); const logout=()=>{ localStorage.removeItem('user'); setIsAuth(false); navigate('/login') };
return(<header className="bg-white border-b"><div className="container h-16 flex items-center justify-between"><Link to="/" className="font-extrabold text-xl">ScamCatcher</Link><nav className="flex items-center gap-4 text-sm"><NavLink to="/search/detail" className={({isActive})=>isActive?'font-semibold':''}>ค้นหา</NavLink><NavLink to="/report" className={({isActive})=>isActive?'font-semibold':''}>รายงาน</NavLink>{!isAuth?(<><NavLink to="/login" className="px-3 py-1.5 rounded-lg border">เข้าสู่ระบบ</NavLink><NavLink to="/register" className="px-3 py-1.5 rounded-lg bg-black text-white">สมัครสมาชิก</NavLink></>):(<><NavLink to="/profile" className={({isActive})=>isActive?'font-semibold':''}>โปรไฟล์</NavLink><button onClick={logout} className="px-3 py-1.5 rounded-lg border">ออกจากระบบ</button></>)}</nav></div></header>) }
